{"version":3,"sources":["typelighter.js"],"names":["addCssCursor","css","document","createElement","type","innerHTML","body","appendChild","Typewriter","constructor","el","userText","this","speed","parseInt","getAttribute","startDelay","endDelay","isRandomlyTimed","loopThreshold","parseFloat","deleteSpeed","isRunning","loopNumber","text","isDeleting","handler","cursor","className","parentNode","checkVisible","loop","fullText","Math","floor","length","substring","delta","random","setTimeout","that","onVisibilityChange","window","removeEventListener","detachEvent","addEventListener","attachEvent","isElementInViewport","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","callback","old_visible","visible","onload","elements","getElementsByClassName","i","JSON","parse"],"mappings":"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","file":"../js/typelighter.min.js","sourcesContent":["//INJECTING CSS, you can also paste it in your CSS file.\r\nfunction addCssCursor() {\r\n    \"use strict\";\r\n    var css = document.createElement(\"style\");\r\n    css.type = \"text/css\";\r\n    css.innerHTML = \".cursor {color:inherit;position:relative;font:inherit;color:inherit;line-height:inherit;animation: Cursor 1s infinite;}@keyframes Cursor{0%{opacity: 1;}50%{opacity: 0;}100%{opacity: 1;}};\"\r\n    document.body.appendChild(css);\r\n}\r\n\r\nclass Typewriter {\r\n    constructor(el, userText) {\r\n        this.userText        = userText;\r\n        this.speed           = parseInt(el.getAttribute(\"data-speed\"), 10) || 1;\r\n        this.startDelay      = parseInt(el.getAttribute(\"data-start\"), 10) || 500;\r\n        this.endDelay        = parseInt(el.getAttribute(\"data-end\"), 10) || 2000;\r\n        this.isRandomlyTimed = el.getAttribute(\"data-random\") !== \"false\";\r\n        this.loopThreshold   = parseFloat(el.getAttribute(\"data-max\")) || false;\r\n        this.deleteSpeed     = el.getAttribute(\"data-dltSpeed\") !== \"false\";\r\n        this.el              = el;\r\n        this.isRunning       = false;\r\n        this.loopNumber      = 0;\r\n        this.text            = \"\";\r\n        this.isDeleting      = false;\r\n        this.handler         = function() {};\r\n\r\n        var cursor = document.createElement(\"span\");\r\n        cursor.className = \"cursor\";\r\n        cursor.innerHTML = \"|\";\r\n        this.el.parentNode.appendChild(cursor);\r\n\r\n        if (el.getAttribute(\"data-checkVisible\") == \"true\") {\r\n            this.checkVisible();\r\n        } else {\r\n            this.loop();\r\n        }\r\n    }\r\n\r\n    loop() {\r\n        if (this.loopThreshold && (this.loopNumber) > (this.loopThreshold)) { return; }\r\n\r\n        //The first execution is delayed\r\n        if (this.loopNumber !== 0) {\r\n            //Grabbing the appropriate string\r\n            var fullText = this.userText[Math.floor(this.loopNumber - 0.5) % this.userText.length];\r\n\r\n            this.text = fullText.substring(0, this.text.length + (this.isDeleting ? -1 : 1));\r\n\r\n            this.el.innerHTML = '<span class=\"wrap\">' + this.text + '</span>';\r\n\r\n            var delta;\r\n\r\n            if (this.text === \"\" && this.isDeleting) {\r\n                this.isDeleting = false;\r\n                this.loopNumber += 0.5;\r\n                delta = this.startDelay;\r\n            } else if (this.text === fullText && !this.isDeleting) {\r\n                delta = this.endDelay;\r\n                this.isDeleting = true;\r\n                this.loopNumber += 0.5;\r\n            } else {\r\n                if (this.isDeleting && this.deleteSpeed) {\r\n                    delta = 50 / this.speed;\r\n                } else {\r\n                    delta = (this.isRandomlyTimed ? (200 - Math.random() * 10) / this.speed : 100 / this.speed);\r\n                }\r\n            }\r\n        } else {\r\n            var delta = this.startDelay;\r\n            this.loopNumber += 0.5;\r\n        }\r\n\r\n        setTimeout(() => this.loop(), delta);\r\n    }\r\n\r\n    //Check the visibility of an element when \"checkVisible\" is enabled\r\n    checkVisible() {\r\n\r\n        var that = this;\r\n\r\n        this.handler = onVisibilityChange(this.el, function() {\r\n\r\n            if (window.removeEventListener) {\r\n                removeEventListener('DOMContentLoaded', that.handler, false); \r\n                removeEventListener('load', that.handler, false); \r\n                removeEventListener('scroll', that.handler, false); \r\n                removeEventListener('resize', that.handler, false); \r\n            } else if (window.detachEvent)  {\r\n                detachEvent('onDOMContentLoaded', that.handler); // IE9+ :(\r\n                detachEvent('onload', that.handler);\r\n                detachEvent('onscroll', that.handler);\r\n                detachEvent('onresize', that.handler);\r\n            }\r\n\r\n            that.loop();\r\n        });\r\n        \r\n        if (window.addEventListener) {\r\n            addEventListener('DOMContentLoaded', this.handler, false); \r\n            addEventListener('load', this.handler, false); \r\n            addEventListener('scroll', this.handler, false); \r\n            addEventListener('resize', this.handler, false);\r\n        } else if (window.attachEvent)  {\r\n            attachEvent('onDOMContentLoaded', this.handler); // IE9+ :(\r\n            attachEvent('onload', this.handler);\r\n            attachEvent('onscroll', this.handler);\r\n            attachEvent('onresize', this.handler);\r\n        }\r\n        this.handler();\r\n    }\r\n}\r\n\r\nfunction isElementInViewport (el) {\r\n\r\n    var rect = el.getBoundingClientRect();\r\n\r\n    return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && \r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth) \r\n    );\r\n}\r\n\r\nfunction onVisibilityChange(el, callback) {\r\n    var old_visible = false;\r\n    return function () {\r\n        var visible = isElementInViewport(el);\r\n        if (visible != old_visible) {\r\n            old_visible = visible;\r\n            if (typeof callback == 'function') {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = function () {\r\n    var elements = document.getElementsByClassName(\"typeWriter\");\r\n    for (var i=0; i< elements.length; i++) {\r\n        var userText = elements[i].getAttribute(\"data-text\");\r\n        if (userText) {\r\n        //Creating an object and parsing the string into an array\r\n          new Typewriter(elements[i], JSON.parse(userText));\r\n        }\r\n    }\r\n    addCssCursor();\r\n}\r\n\r\n"]}